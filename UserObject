import java.awt.Graphics2D;
import java.awt.geom.Ellipse2D;
import java.awt.Color;

/**
 * Describes user object.
 *
 * @author (Thanatcha Panpairoj)
 * @version (5/19/15)
 */
public class UserObject 
{
    private double xLeft;
    private double yTop;
    private Color color;
    private int hp, maxHp, radius, level, xp;

    /**
    Constructs an user object with a given center.
    @param x the x coordinate of the center
    @param y the y coordinate of the center
     */
    public UserObject(int radius, int x, int y, Color color)
    {
        this.radius = radius;
        hp = 6;
        maxHp = 6;
        xLeft = x;
        yTop = y;
        level = 1;
        this.color = color;
    }

    /**
    Draws the object.
    @param g2 the graphics context
     */
    public void draw(Graphics2D g2)
    {
        Ellipse2D.Double circle = new Ellipse2D.Double(xLeft - 25, yTop - 25, 2 * radius, 2 * radius);
        //could be any object, doesn't have to be an ellipse
        g2.setColor(color);
        g2.draw(circle);

        g2.setPaint(color);
        g2.fill(circle);
        
//         Line2D.Double segment=new Line2D.Double(xLeft-radius/2, yTop-radius/2, xLeft-radius/2+5, yTop-radius/2);
//         Line2D.Double segment2=new Line2D.Double(xLeft+radius/2, yTop-radius/2, xLeft+radius/2-5, yTop-radius/2);
        
        g2.setColor(Color.WHITE);
//         g2.draw(segment);
//         g2.draw(segment2);
        g2.drawArc((int)xLeft-radius/2-5, (int)yTop-radius/2, (int)radius/2-2, (int)radius/2-2, 0, 180);
        g2.drawArc((int)xLeft+radius/2-5, (int)yTop-radius/2, (int)radius/2-2, (int)radius/2-2, 0, 180);
        g2.drawArc((int)xLeft-radius/2, (int)yTop+radius/2-10, (int)radius, (int)radius/2, 180,180);
    }

    /**
     * Moves user object to (x,y)
     *
     * @param x the x-coordinate
     * @param y the y-coordinate
     * @return void
     */
    public void moveTo(double x, double y) {
        xLeft = x;
        yTop = y;
    }

    /**
     * Moves user object by an amount.
     *
     * @param dx change in x
     * @param dy change in y
     * @return void
     */
    public void moveBy(double dx, double dy) {
        xLeft += dx;
        yTop += dy;
    }

    /**
     * Returns x-coordinate of user object.
     *
     * @return xLeft
     */
    public double getX() {
        return xLeft;
    }

    /**
     * Returns y-coordinate of user object.
     *
     * @return yTop
     */
    public double getY() {
        return yTop;
    }

    /**
     * Returns radius of user object.
     *
     * @return radius
     */
    public int getRadius() {
        return radius;
    }

    /**
     * Returns hp of user object.
     *
     * @return hp
     */
    public int getHp() {
        return hp;
    }

    /**
     * Returns hp of user object.
     *
     * @return hp
     */
    public int getMaxHp() {
        return maxHp;
    }

    /**
     * Returns level of user object.
     *
     * @return level
     */
    public int getLevel() {
        return level;
    }

    public void addXp(int dXp) {
        xp += dXp;
        if((level < 15 && xp >= 1000) || (level < 20 && xp >= 10000)) {
            xp = 0;
            level++;
            maxHp += 1 + level / 4;
        }
    }

    /**
     * Changes user's hp by an amount.
     *
     * @param dHp change in Hp
     */
    public void changeHp(int dHp) {
        if(hp > 0)
            hp += dHp;
        if(hp > maxHp)
            hp = maxHp;
        if(hp < 0)
            hp = 0;
    }

    /**
     * Changes user's max hp by an amount.
     *
     * @param dMaxHp change in MaxHp
     */
    public void changeMaxHp(double dMaxHp) {
        maxHp += dMaxHp;
    }
}
